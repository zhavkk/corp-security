# corp-security

## Жаворонков Михаил

### Реализация воркер пула и покрытие тестами
Реализация воркер пула с возможностью добавления задач, ожидания их выполнения и корректного завершения работы. 

### Основные методы:

**Submit** - добавляет таску в воркер пул
**SubmitWait** - добавляет таску в воркер пул и дожидается окончания ее выполнение - реализовал через обертку таски и канал с пустой структурой done
**Stop** - останавливает воркер пул, дожидаемся только тех кто выполняется сейчас
**StopWait** - дожидаемся еще тех, кто лежит в очереди


### Константы:
- **DefaultQueueSize**: размер очереди задач по умолчанию.
- **MinWorkers**: минимальное количество воркеров.
- **MaxWorkers**: максимальное количество воркеров.

### Обработка ошибок:
- Если задача вызывает панику, это корректно обрабатывается с помощью `recover`, и воркер продолжает работу.
- Попытке добавить задачу в закрытый воркер пул игнорируется 


### Запуск
можно использовать флаги -workers и -tasks
```
go run cmd/corp-security/main.go -workers 10 -tasks 100
```

запуск тестов
```
make test
```